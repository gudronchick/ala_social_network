{"version":3,"sources":["Content/Messages/Messages.module.css","Content/Messages/Message/Message.module.css","Content/Messages/SendMessage/SendMessage.module.css","Content/Messages/Message/Message.js","Content/Messages/SendMessage/SendMessage.js","Content/Messages/SendMessage/SendMessageContainer.js","Content/Messages/Messages.js","Content/Messages/MessagesContainer.js"],"names":["module","exports","Message","props","className","s","message","img","message_img","src","alt","SendMessage","submitSucceeded","dispatch","reset","messages","messageImg","message_image","send","onSubmit","handleSubmit","send_file","xmlns","width","height","viewBox","d","Field","send_inp","type","component","customFileInput","name","accept","onChange","e","target","files","length","addImgAC","chooseImg","send_area","placeholder","onKeyUp","autoResize","send_btn","compose","connect","state","getMessage","getMessageImg","addMessageCreator","reduxForm","form","Messages","getNameAC","useEffect","messageComponents","map","i","key","id","to","photos","small","message_right","message_head","message_name","fullName","message_row","message_time","getPublishDate","time","next_message","ms","SendMessageContainer","addMessage","humanDialogs","getDialogs","getMessages","getMyDataSelector","authCheck"],"mappings":"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","file":"static/js/3.bf95bdea.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ms\":\"Messages_ms__9yzxN\",\"send\":\"Messages_send__2YWYC\",\"message_img\":\"Messages_message_img__3ANWK\",\"message\":\"Messages_message__29iOG\",\"message_head\":\"Messages_message_head__IZDIc\",\"message_name\":\"Messages_message_name__1y5SW\",\"message_time\":\"Messages_message_time__2Yfnf\",\"next_message\":\"Messages_next_message__2gBoL\",\"message_row\":\"Messages_message_row__25COb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__25dj0\",\"message_img\":\"Message_message_img__ub_2l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"send\":\"SendMessage_send__3oXl4\",\"messages\":\"SendMessage_messages__g0AhM\",\"send_area\":\"SendMessage_send_area__vdebU\",\"send_btn\":\"SendMessage_send_btn__dqEaJ\",\"send_file\":\"SendMessage_send_file__6KvcZ\",\"send_inp\":\"SendMessage_send_inp__6TEnf\",\"message_image\":\"SendMessage_message_image__ZwmSb\"};","import React from \"react\";\r\nimport s from \"./Message.module.css\";\r\n\r\nconst Message = (props) => {\r\n  return (\r\n    <div>\r\n      <p className={s.message}>{props.message}</p>\r\n      {props.img && (\r\n        <img className={s.message_img} src={props.img} alt=\"Message\" />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Message;\r\n","import React from \"react\";\r\nimport s from \"./SendMessage.module.css\";\r\nimport { Field, reset } from \"redux-form\";\r\nimport {\r\n  autoResize,\r\n  chooseImg,\r\n  customFileInput,\r\n} from \"../../../assets/addFuncs\";\r\n\r\nconst SendMessage = (props) => {\r\n  if (props.submitSucceeded) {\r\n    props.dispatch(reset(\"addMessage\"));\r\n  }\r\n\r\n  const sendFile = (e) => {\r\n    let img;\r\n    if (e.target.files.length) {\r\n      img = e.target.files[0];\r\n    }\r\n    props.addImgAC(chooseImg(img));\r\n  };\r\n\r\n  return (\r\n    <div className={s.messages}>\r\n      {props.messageImg && (\r\n        <div className={s.message_image}>\r\n          <img src={props.messageImg} alt={`Sent`} />\r\n        </div>\r\n      )}\r\n      <form className={s.send} onSubmit={props.handleSubmit}>\r\n        <div className={s.send_file}>\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"28\"\r\n            height=\"28\"\r\n            viewBox=\"0 0 24 24\"\r\n          >\r\n            <path d=\"M5 8.5c0-.828.672-1.5 1.5-1.5s1.5.672 1.5 1.5c0 .829-.672 1.5-1.5 1.5s-1.5-.671-1.5-1.5zm9 .5l-2.519 4-2.481-1.96-4 5.96h14l-5-8zm8-4v14h-20v-14h20zm2-2h-24v18h24v-18z\" />\r\n          </svg>\r\n          <Field\r\n            className={s.send_inp}\r\n            type=\"file\"\r\n            component={customFileInput}\r\n            name=\"file\"\r\n            accept=\".png, .jpeg, .jpg\"\r\n            onChange={sendFile}\r\n          />\r\n        </div>\r\n        <Field\r\n          className={s.send_area}\r\n          component=\"textarea\"\r\n          name=\"addMessage\"\r\n          type=\"textarea\"\r\n          placeholder=\"Write a message...\"\r\n          onKeyUp={(e) => {\r\n            autoResize(e, 40);\r\n          }}\r\n        />\r\n        <button className={s.send_btn} type=\"submit\">\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"24\"\r\n            height=\"24\"\r\n            viewBox=\"0 0 24 24\"\r\n          >\r\n            <path d=\"M24 0l-6 22-8.129-7.239 7.802-8.234-10.458 7.227-7.215-1.754 24-12zm-15 16.668v7.332l3.258-4.431-3.258-2.901z\" />\r\n          </svg>\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SendMessage;\r\n","import { addImgAC, addMessageCreator } from \"../../../redux/messages\";\r\nimport SendMessage from \"./SendMessage\";\r\nimport { connect } from \"react-redux\";\r\nimport { reduxForm } from \"redux-form\";\r\nimport { compose } from \"redux\";\r\nimport { getMessage, getMessageImg } from \"../../../selectors/selectors\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    message: getMessage(state),\r\n    messageImg: getMessageImg(state),\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { addMessageCreator, addImgAC }),\r\n  reduxForm({ form: \"addMessage\" })\r\n)(SendMessage);\r\n","import React, { useEffect } from \"react\";\r\nimport s from \"./Messages.module.css\";\r\nimport Message from \"./Message/Message\";\r\nimport SendMessageContainer from \"./SendMessage/SendMessageContainer\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { getPublishDate } from \"../../assets/addFuncs\";\r\n\r\nconst Messages = ({ getNameAC, ...props }) => {\r\n  useEffect(() => {\r\n    getNameAC(\"Messages\");\r\n  }, [getNameAC]);\r\n\r\n  const messageComponents = props.messages.map((message, i) => {\r\n    if (i === 0) {\r\n      return (\r\n        <div className={s.message} key={message.id}>\r\n          <NavLink to=\"/page\" className={s.message_img}>\r\n            <img\r\n              className={s.message_img}\r\n              src={props.photos ? props.photos.small : \"\"}\r\n              alt={props.photos ? props.photos.small + 1 : \"\"}\r\n            />\r\n          </NavLink>\r\n          <div className={s.message_right}>\r\n            <div className={s.message_head}>\r\n              <NavLink to=\"/page\" className={s.message_name}>\r\n                {props.fullName}\r\n              </NavLink>\r\n            </div>\r\n            <div className={s.message_row}>\r\n              <Message message={message.message} img={message.messageImg} />{\" \"}\r\n              <span className={s.message_time}>\r\n                {getPublishDate(message.time) + \" ago\" || \"some time ago\"}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <div className={s.next_message} key={message.id}>\r\n          <Message message={message.message} img={message.messageImg} />\r\n        </div>\r\n      );\r\n    }\r\n  });\r\n\r\n  const submitMessage = ({ addMessage = \"\" }) => {\r\n    if (addMessage || props.messageImg) {\r\n      props.addMessageCreator(addMessage, props.messageImg);\r\n    }\r\n    props.addImgAC(null);\r\n  };\r\n\r\n  return (\r\n    <div className={s.ms}>\r\n      <div>{messageComponents}</div>\r\n      <SendMessageContainer onSubmit={submitMessage} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Messages;\r\n","import Messages from \"./Messages\";\r\nimport { connect } from \"react-redux\";\r\nimport authCheck from \"../../HOC/authCheck\";\r\nimport { compose } from \"redux\";\r\nimport { addImgAC, addMessageCreator } from \"../../redux/messages\";\r\nimport { getNameAC } from \"../../redux/app\";\r\nimport {\r\n  getDialogs,\r\n  getMessages,\r\n  getMessageImg,\r\n  getMyDataSelector,\r\n} from \"../../selectors/selectors\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    humanDialogs: getDialogs(state),\r\n    messages: getMessages(state),\r\n    messageImg: getMessageImg(state),\r\n    ...getMyDataSelector(state),\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { addMessageCreator, getNameAC, addImgAC }),\r\n  authCheck\r\n)(Messages);\r\n"],"sourceRoot":""}